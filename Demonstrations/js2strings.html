<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=<1.0>">
    <title>Document</title>
</head>
<body>
    <!-- <script type="text/javascript"> -->
    <!-- <script type="application/ecmascript"> -->
    <script>
        // assignment operator
        var name = "Claudia Souza";
        let city = "São Paulo";
        city = "Porto";
        city = 1234;
        // console.log is used tipicaly for debbuging
        console.log(city);
        //constant
        const year = 2024;
        // ano = 2025; // Error: Assignment to constant variable
        const PI = 3.1415;

        // rule to attribute names to variables and constants
        /*
            - cannot start with simbols except $ and _. Ex: $nome ou _nome;
            - we can only use letters (maiusculas and minisculas) and numbers beside $ and _;
            - cannot start with numbers, ex: 3doors;
            - the names are case sensitive - Total total and TOTAL are three different variables;
            - the variables numbers of characters are limitless;
            - dont use reserved keywords, ex: if, while, var, let, prompt;
            - avoid using accented letters;
        */
        /*
            Guidelines:
            - descripting names - mnemonic names;
            - avoid using single letter names (except in loops);
            - use camel case or snack notation, ex: totalPrice or total_price;
            - do not use long names;

        */

        // string
        let country01 = "USA"; // doble quoted string
        let country02 = 'Brazil'; // apostrophe - single quoted string

        // concatenated strings
        let message01 = "O" + name + " lives in " + country01 + ".";

        let message02 = "O ".concat(name, " lives in ", country02, ".");

        // string interpolation - template strings
        // ` tick accent;
        
        let message03 = `O ${name} lives in ${country01}.`;
        // sring methods - dot notation
        console.log(name.toUpperCase()); // CLAUDIA SOUZA
        console.log(name.toLowerCase()); // claudia souza
        console.log(name.charAt(0)); // C;
        // a string is an array-like, we can access an element using the array syntax [0] and we can use the length property, but we cant array methods
        console.log(name[0]); // C;

        // property length (readonly) - size of a string
        console.log(name.length); 


        // mostrar os caracteres da variável "empresa", um por cada linha
        let empresa = "Mercadona";
        for (let i = 0; i < empresa.length; i++) {
            // console.log(empresa[i]);
            console.log(empresa.charAt(i));
        }

        for (let caracter of empresa) {
            console.log(caracter);
        }

        // mostrar os caracteres da variável "empresa", um por cada linha, por ordem inversa

        for (let i = empresa.length - 1; i >= 0; i--) {
            console.log(empresa.charAt(i));
        }

        // inverter o valor da variável empresa

        // My version
        let wordLength = empresa.length - 1;
        let invertedWord = [empresa.length - 1];

        for (let leftIndex = 0, rightIndex = wordLength; leftIndex <= rightIndex; leftIndex++, rightIndex--) {
            invertedWord[leftIndex] = empresa[rightIndex];
            invertedWord[rightIndex] = empresa[leftIndex];
        }
        console.log(invertedWord.join(""));

        // Pedro's first version
        let inversalWord = "";
        for (let i = empresa.length - 1; i >= 0; i--) {
            inversalWord += empresa[i];
        }
        console.log(inversalWord);

        // Pedro's second version
        for (let pos = 0; pos < empresa.length; pos++) {
            invertedWord = empresa.charAt(pos) + invertedWord;
        }
        console.log(invertedWord);

        // Pedro's third version
        console.log(empresa.split("").reverse().join());

        // resultado = anodacreM

        // extrair caracteres de uma string
        // extrair apenas um caracter
        // extrair o primeiro caracter
        // let firstChar = empresa.charAt(0);
        // let firstChar = empresa[0];
        // let firstChar = empresa.at(0);
        // let firstChar = empresa.substr(0, 1); // Deprecated - This feature is no longer recommended
        // let firstChar = empresa.substring(0, 1);
        // let firstChar = empresa.slice(0, 1);

        // let firstChar = empresa.charAt(-1); // ""
        // let firstChar = empresa.charAt(30); // ""
        // let firstChar = empresa[-1]; // undefined
        // let firstChar = empresa[30]; // undefined
        // let lastChar = empresa.at(-1); // "a"
        // let nextToLastChar = empresa.at(-2); // "n"
        // let firstChar = empresa.at(30); // undefined
        // let lastChar = empresa.charAt(empresa.length - 1);

        // console.log(firstChar);

        // let nome = "Pedro Remoaldo";


         let nome = "Pedro Remoaldo";
         let ultimoNome = "";
         let pos = nome.length - 1;
         while (nome.at(pos) !== " " && pos >= 0) {
             ultimoNome = nome.at(pos) + ultimoNome;
             pos--;
         }
         console.log(ultimoNome); // Remoaldo
 
         let ultimoNome2 = "";
         for (let pos2 = nome.length - 1; pos2 >= 0; pos2--) {
             if (nome.at(pos2) === " ") {
                 break;
             }
             ultimoNome2 = nome.at(pos2) + ultimoNome2;
         }
         console.log(ultimoNome2); // Remoaldo
 
         let ultimoNome3 = "";
         for (let pos2 = nome.length - 1; nome.at(pos2) !== " " && pos2 >= 0; pos2--) {
             ultimoNome3 = nome.at(pos2) + ultimoNome3;
         }
         console.log(ultimoNome3); // Remoaldo

         let spacePosition = name.lastIndexOf(" ");
         let ultimoNome4 = name.slice(spacePosition + 1);
         console.log(ultimoNome4);

         let ultimoNome5 = name.slice(name.lastIndexOf(" ") + 1);

         console.log(ultimoNome5);

        // determinar se um nome possui um caracter (ou caracteres) específico
        let posE = nome.indexOf("e");
        console.log(posE); // 1
        let posI = nome.indexOf("i");
        console.log(posI); // -1 
        let posDro = nome.indexOf("dro");
        console.log(posDro); // 2

        let incluiE2 = nome.includes("e");
        console.log(incluiE2); // true
        let incluiI2 = nome.includes("i"); // false
        console.log(incluiI2); // false
        let incluiDro = nome.includes("dro");
        console.log(incluiDro); // true

        console.log(nome.startsWith("P")); // true
        console.log(nome.at(0) === "P"); // true
        console.log(nome.at(0) === "p"); // false
        // para apanhar minúsculas e maiúsculas
        console.log(nome.at(0).toLowerCase() === "p"); // true
        console.log(nome.toLowerCase().at(0) === "p"); // true
        console.log(nome.startsWith("E")); // false

        console.log(nome.endsWith("o")); // true
        console.log(nome.at(nome.length - 1) === "o"); // true

        console.log(nome.search("e")); // 1

        console.log(nome.split("").find(char => char.toUpperCase() === "R")); // r

        // expressões regulares - regular expressions / regex
        // validar um código postal
        let cp = "1100-345";
        // 4 algarismos seguidos de um hifen (-) seguidos de 3 algarismos
        // let re = /[0123456789]/;
        // let re = /[0-9][0-9][0-9][0-9]/;
        /*
        ^ - início de string
        $ - fim de string
        [] - caracteres que têm de existir
        {} - número de ocorrências do(s) caracter(es) anteriores
        */
        let re = /^[0-9]{4}\-[0-9]{3}$/;
        console.log(re.test(cp)); // true

        // Só permitir letras e espaços numa string ou num campo de um formulário
        // /^[a-zA-Z ]$/
        // /^[a-zA-Z]|[à-ü]|[À-Ü]$/
        // /^[a-zA-Z\u00C0-\u017F]$/

        // validar matrículas portuguesas
        // /^(([A-Z]{2}-\d{2}-(\d{2}|[A-Z]{2}))|(\d{2}-(\d{2}-[A-Z]{2}|[A-Z]{2}-\d{2})))$/

        // \ - Escape character - tira o significado especial do caracter que vem a seguir
        // let frase = "No Hamlet de Shakespeare, o príncipe diz "To be or not to be"";
        // let frase = "No Hamlet de Shakespeare, o príncipe diz 'To be or not to be'";
        let frase = "No Hamlet de Shakespeare, o príncipe diz \"To be or not to be\"";

        console.log(frase);

        // substituir todos os caracteres "e", na variável "nome", por caracteres "i"

        let result = "";
        for (let pos = 0; pos < nome.length; pos++) {
            // if (nome.at(pos) === "e") {
            //     result += "i";
            // } else {
            //     result += nome.at(pos);
            // }
            result += (nome.at(pos) === "e") ? "i" : nome.at(pos);
        }
        console.log(result);

        // replaceAll - ES2021
        console.log(nome.replaceAll("e", "i")); // Pidro Rimoaldo
        console.log(nome.replace(/r/ig, "t")); // Pedto timoaldo
        // g - global match
        // i - case insensitive

    </script>
    
</body>
</html>